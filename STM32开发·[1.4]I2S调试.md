# STM32 I2S调试笔记

## 引脚设定

**SCK：**由主机发出的高频方波，控制数据传输时序。

**SD：**数据线，从机发送给主机

**WS：**声道选择，主机发送给从机，WS低电平时，从机发送左声道数据，高电平发送右声道。

**L/R：**芯片左右声道选择线，每个麦克风只能检测一处声源。

## 时序分析

SCK是由主机生成的高频方波信号，WS的周期是SCK的64倍，因此在WS=1或WS=0的期间，SCK会经历32个周期。

从WS下降沿之后的第2个SCK上升沿开始，主机会在每个SCK上升沿读取一位数据，直到第25个SCK上升沿后，主机共读取到了24bit数据。

INMP441内置的ADC是24位的，这24bit数据以大端模式传输，组成了左声道的一个采样值。

